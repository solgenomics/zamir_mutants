<html> 
<head>

<script language="javascript" SRC = "functions.js">
<!--// 
	document.write("can not find functions");
//-->
</script>

<script language="JavaScript">
<!-- Hide from old browsers
//Hide from Java Script

var st = location;
var page_type;
var trait;
var experiment;
var ex;
var tr;
var ch;
var ex_array;

array = get_param(st, 3);

page_type = array[0];
tr  = array[1];
ex = array[2];
ch = array[3];
trait = translate(tr);
experiment  = translate(ex);



function get_select(t)
{
	var type = t;
	
	
	var s1 = "<select name='s1'>" + 
	  "<option value=''>Select IL" + 
		"<option value='IL1-1'>IL1-1" + 
		"<option value='IL1-1-2'>IL1-1-2" +
		"<option value='IL1-1-3'>IL1-1-3" +
		"<option value='IL1-2'>IL1-2" +
		"<option value='IL1-3'>IL1-3" +
		"<option value='IL1-4'>IL1-4" +
		"<option value='IL1-4-18'>IL1-4-18" +
		"</select>";
	var s2 = "<select name='s1'>" + 
	  "<option value=''>Select IL" + 
		"<option value='IL2-1'>IL2-1" + 
		"<option value='IL2-1-1'>IL2-1-1" +
		"<option value='IL2-2'>IL2-2" +
		"<option value='IL2-3'>IL2-3" +
		"<option value='IL2-4'>IL2-4" +
		"<option value='IL2-5'>IL2-5" +
		"<option value='IL2-6'>IL2-6" +
		"<option value='IL2-6-5'>IL2-6-5" +
		"</select>";
	var s3 = "<select name='s1'>" + 
	  "<option value=''>Select IL" + 
		"<option value='IL3-1'>IL3-1" + 
		"<option value='IL3-2'>IL3-2" +
		"<option value='IL3-3'>IL3-3" +
		"<option value='IL3-4'>IL3-4" +
		"<option value='IL3-5'>IL3-5" +
		"</select>";
	var s4= "<select name='s1'>" + 
	  "<option value=''>Select IL" + 
		"<option value='IL4-1'>IL4-1" + 
		"<option value='IL4-1-1'>IL4-1-1" +
		"<option value='IL4-2'>IL4-2" +
		"<option value='IL4-3'>IL4-3" +
		"<option value='IL4-3-2'>IL4-3-2" +
		"<option value='IL4-4'>IL4-4" +
		"</select>";
	var s5 = "<select name='s1'>" + 
	  "<option value=''>Select IL" + 
		"<option value='IL5-1'>IL5-1" + 
		"<option value='IL5-2'>IL5-2" +
		"<option value='IL5-3'>IL5-3" +
		"<option value='IL5-4'>IL5-4" +
		"<option value='IL5-5'>IL5-5" +
		"</select>";
	var s6 = "<select name='s1'>" + 
	  "<option value=''>Select IL" + 
		"<option value='IL6-1'>IL6-1" + 
		"<option value='IL6-2'>IL6-2" +
		"<option value='IL6-2-2'>IL6-2-2" +
		"<option value='IL6-3'>IL6-3" +
		"<option value='IL6-4'>IL6-4" +
		"</select>";
	var s7 = "<select name='s1'>" + 
	  "<option value=''>Select IL" + 
		"<option value='IL7-1'>IL7-1" + 
		"<option value='IL7-2'>IL7-2" +
		"<option value='IL7-3'>IL7-3" +
		"<option value='IL7-4'>IL7-4" +
		"<option value='IL7-4-1'>IL7-4-1" +
		"<option value='IL7-5'>IL7-5" +
		"<option value='IL7-5-5'>IL7-5-5" +
		"</select>";
	
	var s8 = "<select name='s1'>" + 
	  "<option value=''>Select IL" + 
		"<option value='IL8-1'>IL8-1" + 
		"<option value='IL8-1-1'>IL8-1-1" +
		"<option value='IL8-1-3'>IL8-1-3" +
		"<option value='IL8-2'>IL8-2" +
		"<option value='IL8-2-1'>IL8-2-1" +
		"<option value='IL8-3'>IL8-3" +
		"<option value='IL8-3-1'>IL8-3-1" +
		"</select>";
	var s9 = "<select name='s1'>" + 
	  "<option value=''>Select IL" + 
		"<option value='IL9-1'>IL9-1" + 
		"<option value='IL9-1-2'>IL9-1-2" +
		"<option value='IL9-1-3'>IL9-1-3" +
		"<option value='IL9-2'>IL9-2" +
		"<option value='IL9-2-5'>IL9-2-5" +
		"<option value='IL9-2-6'>IL9-2-6" +
		"<option value='IL9-3'>IL9-3" +
		"<option value='IL9-3-1'>IL9-3-1" +
		"<option value='IL9-3-2'>IL9-3-2" +
		"</select>";
	var s10 = "<select name='s1'>" + 
	  "<option value=''>Select IL" + 
		"<option value='IL10-1'>IL10-1" + 
		"<option value='IL10-1-1'>IL10-1-1" +
		"<option value='IL10-2'>IL10-2" +
		"<option value='IL10-2-2'>IL10-2-2" +
		"<option value='IL10-3'>IL10-3" +
		"</select>";
	var s11 = "<select name='s1'>" + 
	  "<option value=''>Select IL" + 
		"<option value='IL11-1'>IL11-1" + 
		"<option value='IL11-2'>IL11-2" +
		"<option value='IL11-3'>IL11-3" +
		"<option value='IL11-4'>IL11-4" +
		"<option value='IL11-4-1'>IL11-4-1" +
		"</select>";
	var s12 = "<select name='s1'>" + 
	  "<option value=''>Select IL" + 
		"<option value='IL12-1'>IL12-1" + 
		"<option value='IL12-1-1'>IL12-1-1" +
		"<option value='IL12-2'>IL12-2" +
		"<option value='IL12-3'>IL12-3" +
		"<option value='IL12-3-1'>IL12-3-1" +
		"<option value='IL12-4'>IL12-4" +
		"<option value='IL12-4-1'>IL12-4-1" +
		"</select>";
	switch (type)
	{
		case 1:
			return s1;
		case 2:							  
			return s2;	
		case 3:
			return s3;	
		case 4:
			return s4;	
		case 5:
			return s5;	
		case 6:
			return s6;	
		case 7:
			return s7;	
		case 8:
			return s8;	
		case 9:
			return s9;	
		case 10:
			return s10;	
		case 11:
			return s11;	
		case 12:
			return s12;							
					
	}
}

function goToPage_2(t)
{
  var type = t;
	var name;
	var index;
	var exper;
	var array;
	
	switch (type)
	{
	 	 case 1:		
		 			index = document.form1.s2.selectedIndex;
					name  = document.form1.s2.options[index].value;
					
					if(!name)
					{
					   alert("you must select trait");
						 return;
					}
					
					array = get_ex_by_tr(name, 1);
					if (isExist(array, ex))
						 location = "ch_all_lines_1.htm?page_type=1&tr=" + name + "&ex=" + ex + "&ch="+ch;
					else
					{
					 		exper = get_ex_by_tr(name, 2);
							location = "ch_all_lines_1.htm?page_type=1&tr=" + name + "&ex=" + exper + "&ch="+ch;
					}
					break;
	
	 	 case 2:
		 	 	 index = document.form1.s3.selectedIndex;
				 name  = document.form1.s3.options[index].value;
				 if (!name)
				 {
				    alert("you must select experiment");
				    return;
				 }
	   		 window.open("ch_all_lines_1.htm?page_type=2&tr=" + tr + "&ex=" + name + "&ch="+ch);
		 		 break;
		 
	}	
		 					 
	
}



function goToPage(t)
{
	var type = t;
	var PageIndex;
	var il;
	
	if (type == 3)
	{
		PageIndex=document.form1.s1.selectedIndex;
		il = document.form1.s1.options[PageIndex].value;
		
		if (!il)
		{
		 	  alert("You must select IL");
			  return;
		}
	
		window.open("http://zamir.sgn.cornell.edu/cgi-bin/IL_cards/qtl.cgi?menu=il_card&il="+il);
		return;
	}
	
	if (type == 1)
	{
		location = "ch_all_lines.htm?page_type=" + page_type + "&tr="+tr+"&ex="+ex+"&ch="+ch;
		return;
	}
	else
	{
		PageIndex=document.form1.s1.selectedIndex;
		il = document.form1.s1.options[PageIndex].value;
		if (!il)
		{
		   alert("you must select IL");
			 return;
		}
		arr     = /IL(\d+)/g.exec(il);
		
		location = "il_analysis.htm?page_type=" + page_type + "&tr="+tr+"&ex="+ex+"&ch="+arr[1]+"&il="+il;
		
	}
}

function goToPage_1(t)
{
	var type = t;
	if (type == 1)
	{
		location = "qtl_map.htm?page_type=" + page_type + "&tr="+tr+"&ex="+ex;
	}
	if (type == 2)
	{
		location = "tail_chart.htm?page_type=" + page_type + "&tr="+tr+"&ex="+ex;
	}
	if (type == 3)
	{
		location = "distribution.htm?page_type=" + page_type + "&tr="+tr+"&ex="+ex;
	}
	if (type == 4)
	{
		location = "home.htm";
	}
}



/////////////////////////////////////////  end of head//////////////////////////////////////////-->

</script>
</head>

<body  bgColor="#ffffcc">

<h1><center>
<script language="javascript">
<!--// 
var file = "../Trait_card/" + f_translate_tr(trait) + ".htm";		
document.write("<a href='"+file+"' target='_blanc'><font COLOR='#0000FF' SIZE='6'>"+trait+"</font></a>");
//-->
</script>
<font COLOR="#800040" SIZE="6"> values for ILs and ILHs on chromosome</font>
<font COLOR="#0000FF" SIZE="6"><script language="javascript">
<!--// 
document.write(ch);
//-->
</script></font>
<font COLOR="#800040" SIZE="6"> in </font>
<script language="javascript">
<!--// 
document.write("<a href='../experiment_card.htm?page_type=1&experiment="+ex+"' target='_blanc'><font COLOR='#0000FF' SIZE='6'>"+experiment+"</a>");
//-->
</script></font>
<font COLOR="#800040" SIZE="6"> experiment </font>
</center></h1>

<!--------------------------------------------   table   --------------------------------------------------->

<table border = "0">
<tr>




<script language="javascript">
<!--// 
	document.write("<td bgColor='" + get_color() + "'valign = 'top' width = '700' rowspan = '2'>");
//-->
</script>
<form name="form1" method="post" action="" enctype="text/plain">


<font COLOR="#0000FF" size = "5"><b>Select a single IL from chromosome </font> 
<font COLOR="#0000FF" SIZE="5"><script language="javascript">
<!--// 
document.write(ch);
//-->
</script></font>
<font COLOR="#0000FF" size = "5"><b> :</b></font> <BR><BR>
<script language="javascript">
<!--// 
var s = get_select(parseInt(ch));
document.write(s);
//-->
</script>




<input type="button" value="Go to selected IL" onClick="goToPage()"><BR>
<input type="button" value="Show IL card" onClick="goToPage(3)">


<BR><HR>
<font COLOR="#0000FF" size = "5"><b>View table of chromosome lines :</b></font> <BR><BR>
<input type="button" value="Table" onClick="goToPage(1)"><br><hr>

<script language="javascript">		 //--------------------------------   trait   ------------------------------------
<!--// 
var tr_array   = all_traits();
tr_array   = del_ex(tr_array, tr);
var length = tr_array.length;

var i;

	document.write("<font COLOR='#0000FF' SIZE='5'><b>View other trait for this chromosome :</b></font><BR><BR>");

 		for (i=0; i<length; i++)
		{		  
			 	 if (i == 0)
				 {
				 		document.write("<select name='s2'>");
						document.write("<option value=''>Select trait");
						document.write("<option value='"+tr_array[i]+"'>" + translate(tr_array[i]));
				 }
				 else
				 {
				 	document.write("<option value='" + tr_array[i] + "'>" + translate(tr_array[i]));
				 }
						
		}
		
	document.write("</select><input type='button' value='Other trait' onClick='goToPage_2(1)'>");
			
	
	
//-->
</script>


<script language="javascript">	 //--------------------------------   experiment   ----------------------------------
<!--// 
ex_array   = get_ex_by_tr(tr, 1);
ex_array   = del_ex(ex_array, ex);
var length = ex_array.length;
var i;

if (page_type == 1)
{

	document.write("<HR>");

	document.write("<font COLOR='#0000FF' SIZE='5'><b>View this chromosome in other experiment :</b></font><BR><BR>");



	if (length > 0)
	{


 		for (i=0; i<length; i++)
		{
			if (i == 0)
			{
				document.write("<select name='s3'>");
				document.write("<option value=''>Select experiment");
				if ((tr.search("Fruit_Weight") != -1  ||  tr.search("Brix") != -1) && ex.search("Combined") == -1)
				{
				 	 document.write("<option value='Combined'>" + "Combined");
				}
				document.write("<option value='"+ex_array[i]+"'>" + translate(ex_array[i]));
			}
			else
			{
				document.write("<option value='" + ex_array[i] + "'>" + translate(ex_array[i]));
			}		
		}
		
		document.write("</select><input type='button' value='chromosome' onClick='goToPage_2(2)'>");
		
	}
	else
	{
		document.write("<font COLOR='#800040' SIZE='4'><b>This trait was measured only in this experiment</b></font><BR><BR>");
		
	
	}
	document.write("<BR>");

	 	
}
else
{
	document.write("<BR><HR>");
	document.write("<font COLOR='#0000FF' SIZE='5'><b>Click here to close this window:");
	document.write("</b></font><BR><BR>");

	document.write("<input type='button' value='Close window' onClick='self.close()'><br>");
}

//-->
</script>

<BR><BR>
</td>


<td valign = "top">



<script language="javascript">
<!--// 
	var f_ex = f_translate_ex(experiment);
	var f_tr  = f_translate_tr(trait);
	var path = "../Pictures/Lines_per_chr/" + f_ex + "/" + f_tr + "/Charts/" + "chr" + ch + ".bmp";
	
	//document.write("path is "+path);
	
	document.write("<img src='" + path +  "' border='0' >");
	
	if (ex.search("Combined") != -1) //tr.search("Fruit_Weight") != -1  ||  tr.search("Brix") != -1)
  {
	 	 		document.write("<pre><a href='../Statistics/anova_combined.htm?page_type=1' target='_blanc'><b>Figure description</b></a>      <a href='../General/legend.jpg' target='_blanc'><b>Legend</b></a></pre>");
	}
	else
	{
	 		document.write("<br><a href='../Statistics/anova.htm?page_type=1' target='_blanc'><b>Figure description</b></a>");
	}


//-->
</script>

</td>

<td valign = "top" rowspan = "2">
 
<script language="javascript">
<!--// 
	var f_ex = f_translate_ex(experiment);
	var f_tr  = f_translate_tr(trait);
	var path = "../Pictures/Chr/chr" + ch + ".jpeg";
	
	//document.write("path is "+path);
	
	
	document.write("<img src='" + path +  "' border='0' width='200' height='400' >");
	document.write("<BR><center><a href='http://www.sgn.cornell.edu/maps/pennellii_il/chr"+ch+".html' target='_blanc' ><b>SGN : Chromosome "+ch+"</b></a></center>");

//-->
</script>


</td>



</tr>

</form>

<tr>

<script language="javascript">
<!--// 
	document.write("<td bgColor='" + get_color() + "' valin = 'top' colspan = '1'>");
//-->
</script>


<font COLOR="#0000FF" size = "5"><b>Go to :</b></font> <BR><BR>

<input type="button" value="Previous page"  onClick="history.go(-1);">
<input type="button" value="Genome mapping"  onClick="goToPage_1(1);">
<input type="button" value="Tail chart"  onClick="goToPage_1(2);">
<input type="button" value="Distribution"  onClick="goToPage_1(3);">
<input type="button" value="Front page" onClick="goToPage_1(4);">
</td>


</tr>

</table>


<BR>

</body>
</html>


