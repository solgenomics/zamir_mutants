

<html>
<head>

<script language="javascript" SRC = "functions.js">
<!--// 
	document.write("can not find functions");
//-->
</script>

<script language="JavaScript">
<!-- Hide from old browsers
//------------------------------------------------------------------------   java script functions   -------------------------------------------------------------------------
//Hide from Java Script

var st = location;
var page_type;
var trait;
var experiment;
var ex;
var tr;
var ex_array;

array = get_param(st, 2);

page_type = array[0];
ex = array[2];


experiment  = translate(ex);


function goToPage_1()
{
  
	var index = document.form1.s1.selectedIndex;
	var exper = document.form1.s1.options[index].value;
	
	if (!exper)
	{
	   alert("You must select experiment");
		 return;
	}
	
	if (page_type == 1)
		window.open("trait_correlation.htm?page_type=2&tr=undef&ex=" + exper);
	else
		window.open("trait_correlation.htm?page_type=4&tr=undef&ex=" + exper); 		 
	
}


function goToPage(t)
{

	//location = "trait_correlation.htm?page_type=3&tr=undef&ex="+ex_array[0];
	var type = t;

	switch (type)
	{
		case 1 : 
				location = "trait_correlation.htm?page_type=3&tr=undef&ex="+ex;
				break;
			
		case 2:
			location = "trait_correlation.htm?page_type=4&tr=undef&ex="+ex;
			break;
			
		case 3:
			location = "trait_correlation.htm?page_type=1&tr=undef&ex="+ex;
			break;
			
		case 4:
			location = "trait_correlation.htm?page_type=2&tr=undef&ex="+ex;
			break;
		case 5:
			var ind = document.form1.s2.selectedIndex;
			var tr1 = document.form1.s2.options[ind].value;
			ind     = document.form1.s3.selectedIndex;
			var tr2 = document.form1.s3.options[ind].value;
			
			if (!tr1  ||  !tr2)
			{
			   alert("You must select 2 traits");
				 return;
			}
			
			if (tr1.search(tr2) != -1   &&  tr2.search(tr1) != -1)
			{
			 	 alert ("You must choose 2 different traits !");
				 return;
			}
			
			location = "global_correlation.htm?page_type="+page_type+"&tr1=" + tr1 +"&tr2="+tr2;
			break;
			
			
	}
	
}


//-->

</script>

</head>


<script type="text/javascript">
<!--





document.write("<h1><font COLOR='#800040'><center>");
if (page_type == 5  ||  page_type == 6)
	 document.write("<font COLOR='#ff0000'>M82 : </font>");
document.write("Correlation of all <a href='../all_traits.htm?page_type=1' target='_blanc'><font color='#0000FF'>traits</font></a> in "); 
document.write("<a href='../experiment_card.htm?page_type=1&experiment="+ex+"' target='_blanc'><font COLOR='#0000FF' SIZE='6'>"+experiment+"</a>");
document.write("</font>experiment</center></font></h1>");


// -->
</script>





<body  bgColor="#ffffcc">

<table>
<tr>




<script language="javascript">
<!--// 
	document.write("<td bgColor='" + get_color() + "' valign = 'top' width = '500'>");
//-->
</script>
<form name="form1" method="post" action="" enctype="text/plain">
<BR>


<script language="javascript">
<!--// 
ex_array   = all_experiments();
ex_array   = del_ex(ex_array, "Combined");
ex_array   = del_ex(ex_array, ex);

	 
var length = ex_array.length;
var i;


if (page_type == 5  ||  page_type == 6)
{
 	 if (page_type == 5)
	 {
	 			document.write("<br><font COLOR='#0000FF' SIZE='5'><b>View chart :</b></font><BR><BR>");
				document.write("<input type='button' value='chart' onClick=\"location='trait_correlation.htm?page_type=6&tr=undef&ex="+ex+"'\"><br><BR><HR>");	 
	 }
	 else
	 {
	 			document.write("<br><font COLOR='#0000FF' SIZE='5'><b>View table :</b></font><BR><BR>");
				document.write("<input type='button' value='Table' onClick=\"location='trait_correlation.htm?page_type=5&tr=undef&ex="+ex+"'\"><br><BR><HR>");	 
	 }


}


if (page_type == 1  ||  page_type == 3)
{


	document.write("<font COLOR='#0000FF' SIZE='5'><b>View Correlation of traits in other experiment :</b></font><BR><BR>");



	if (length > 0)
	{


 		for (i=0; i<length; i++)
		{
			if (i == 0)
			{			 	
				document.write("<select name='s1'>");
				document.write("<option value=''>Select experiment");
				document.write("<option value='"+ex_array[i]+"'>" + translate(ex_array[i]));
			}
			else
			{
				document.write("<option value='" + ex_array[i] + "'>" + translate(ex_array[i]));
			}		
		}
		
		document.write("</select><BR><input type='button' value='View correlation' onClick='goToPage_1()'>");
		
	}
	else
	{
		document.write("<font COLOR='#800040' SIZE='4'><b>This trait was measured only in this experiment</b></font><BR><BR>");
		
	
	}
	document.write("<BR><BR><HR><BR>");

	 	
}
if (page_type == 2  ||  page_type == 4)
{	
		document.write("<font COLOR='#0000FF' SIZE='5'><b>Click here to close this window and back to the previous page :");
		document.write("</b></font><BR><BR>");

		document.write("<input type='button' value='Close window' onClick='self.close()'><br><BR><HR>");
	
}

//-->
</script>




<script language="javascript">
<!--// 



if (page_type == 1 || page_type == 2)	
{
 	if (experiment.search("Global") != -1)
		 document.write("<font COLOR='#0000FF' SIZE='5'><b>View data table and specific correlation of 2 traits :</b></font><BR><BR>");
	else
		 	document.write("<font COLOR='#0000FF' SIZE='5'><b>View data table :</b></font><BR><BR>");

	document.write("<input type='button' value='Correlation table'  onClick='goToPage("+page_type+")'><br><BR><HR>");
	
	if (experiment.search("Global") == -1)
	{
 	 	 document.write("<font COLOR='#0000FF' SIZE='5'><b>Correlation within the control (M82)</b></font><BR><BR>");
		 document.write("<input type='button' value='M82'  onClick=\"window.open('trait_correlation.htm?page_type=6&tr=undef&ex="+ex+"')\"><br><BR><HR>");
	}
}
if (page_type == 3  ||  page_type == 4)
{
  var tr_array = all_traits();
	
	var i;

if (experiment.search("Global") != -1)
{
  document.write("<font COLOR='#0000FF' SIZE='5'><b>Correlation between 2 traits :</b></font><BR><BR>");
	
	
	document.write("<select name='s2'>");
	document.write("<option value=''>Select trait 1</option>");
	for(i=0; i<tr_array.length; i++)
	{
	 		document.write("<option value='" + tr_array[i] +"'>"+ translate(tr_array[i])+ "</option>");
	}	
	document.write("</select>");
	
	document.write("<select name='s3'>");
	document.write("<option value=''>Select trait 2</option>");
	for(i=0; i<tr_array.length; i++)
	{
	 		document.write("<option value='" + tr_array[i] +"'>"+ translate(tr_array[i])+ "</option>");
	}	
	document.write("</select>");
	
	document.write("<input type='button' value='Correlation' onClick='goToPage(5)'>");

  document.write("<BR><HR>");
}
	document.write("<font COLOR='#0000FF' SIZE='5'><b>Chart :</b></font><BR><BR>");

	document.write("<input type='button' value='chart'  onClick='goToPage("+page_type+")'><br><BR><HR>");

	if (experiment.search("Global") == -1)
	{ 
		document.write("<font COLOR='#0000FF' SIZE='5'><b>Correlation within the control (M82)</b></font><BR><BR>");
		document.write("<input type='button' value='M82'  onClick=\"window.open('trait_correlation.htm?page_type=5&tr=undef&ex="+ex+"')\"><br><BR><HR>");
	}

}

//-->
</script>


<script type="text/javascript">
<!--
if (page_type == 5  ||  page_type == 6)
{
 	 document.write("<font COLOR='#0000FF' SIZE='5'><b>Click to close window:</b></font><BR><BR>");
	 document.write("<input type='button' value='Close window'  onClick='self.close()'><br><BR>");

}
else
{
 		document.write("<font COLOR='#0000FF' SIZE='5'><b>Back to front page:</b></font><BR><BR>");
		document.write("<input type='button' value='Front page'  onClick=\"location = 'home.htm';\"><br><BR>");
}

// -->
</script>

</form>
</td>

<td>


<script language="javascript">
<!--// 
	var f_ex = f_translate_ex(experiment);
	var path = "../Pictures/Correlation/Traits/" + f_ex + ".png";
	var path_1 = "../Pictures/Correlation/Traits/" + f_ex + "-table.html";
	
	//document.write("path is "+path);
	
	if (page_type == 1 || page_type == 2)
	{
	  document.write("<a href='../Statistics/matrix.htm?page_type=1' target='_blanc'><b>Figure description</b></a><br><br>");
		document.write("<img src='" + path +  "' border='0'>");
	}	
	if (page_type == 3 || page_type == 4)
	{
	  document.write("<a href='../Statistics/correlation.htm?page_type=1' target='_blanc'><b>Figure description</b></a><br><br>");
	  if (experiment.search("Global") != -1)
		  	document.write("<IFRAME NAME='iframe1' SRC='" + path_1 +  "' HEIGHT='500' WIDTH='1000' border='0' ></IFRAME>");
		else
				document.write("<IFRAME NAME='iframe1' SRC='" + path_1 +  "' HEIGHT='450' WIDTH='500' border='0' ></IFRAME>");		
	}
	if (page_type == 5)
	{
	 	 path = "../Pictures/Correlation/Traits/M82/" + f_ex + "-table.html";
		 //document.write("path is "+path);
		 document.write("<a href='../Statistics/correlation.htm?page_type=1' target='_blanc'><b>Figure description</b></a><br><br>");
	   if (experiment.search("Global") != -1)
		  	document.write("<IFRAME NAME='iframe1' SRC='" + path +  "' HEIGHT='500' WIDTH='1000' border='0' ></IFRAME>");
		 else
				document.write("<IFRAME NAME='iframe1' SRC='" + path +  "' HEIGHT='450' WIDTH='500' border='0'></IFRAME>");		

	}
	if (page_type == 6)
	{
	 	 path = "../Pictures/Correlation/Traits/M82/" + f_ex + ".png";
		 document.write("<a href='../Statistics/correlation.htm?page_type=1' target='_blanc'><b>Figure description</b></a><br><br>");
	   document.write("<img src='" + path +  "' border='0'>");
	}

//-->
</script>




</td>




</tr>
</table>
</body>
</html>